(()=>{"use strict";const t={};let e=!0,n=(t=500)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let t=0;t<o.length;t++){o[t].style.paddingRight="0px"}n.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},o=(t=500)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");for(let t=0;t<o.length;t++){o[t].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}n.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};class s{constructor(t){t.length&&(this.elements=Array.from(t).map((t=>new s.Each(t,this.options))))}destroyEvents(){this.elements.forEach((t=>{t.destroyEvents()}))}setEvents(){this.elements.forEach((t=>{t.setEvents()}))}}s.Each=class{constructor(t){this.parent=t,this.elements=this.parent.querySelectorAll("[data-prlx]"),this.animation=this.animationFrame.bind(this),this.offset=0,this.value=0,this.smooth=t.dataset.prlxSmooth?Number(t.dataset.prlxSmooth):15,this.setEvents()}setEvents(){this.animationID=window.requestAnimationFrame(this.animation)}destroyEvents(){window.cancelAnimationFrame(this.animationID)}animationFrame(){const t=this.parent.getBoundingClientRect().top,e=this.parent.offsetHeight,n=window.innerHeight,o=t-n,s=t+e,i=this.parent.dataset.prlxCenter?this.parent.dataset.prlxCenter:"center";if(o<30&&s>-30)switch(i){case"top":this.offset=-1*t;break;case"center":this.offset=n/2-(t+e/2);break;case"bottom":this.offset=n-(t+e)}this.value+=(this.offset-this.value)/this.smooth,this.animationID=window.requestAnimationFrame(this.animation),this.elements.forEach((t=>{const e={axis:t.dataset.axis?t.dataset.axis:"v",direction:t.dataset.direction?t.dataset.direction+"1":"-1",coefficient:t.dataset.coefficient?Number(t.dataset.coefficient):5,additionalProperties:t.dataset.properties?t.dataset.properties:""};this.parameters(t,e)}))}parameters(t,e){"v"==e.axis?t.style.transform=`translate3D(0, ${(e.direction*(this.value/e.coefficient)).toFixed(2)}px,0) ${e.additionalProperties}`:"h"==e.axis&&(t.style.transform=`translate3D(${(e.direction*(this.value/e.coefficient)).toFixed(2)}px,0,0) ${e.additionalProperties}`)}},document.querySelectorAll("[data-prlx-parent]")&&(t.parallax=new s(document.querySelectorAll("[data-prlx-parent]")));let i=!1;setTimeout((()=>{if(i){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0);const a=document.querySelectorAll(".book-top-how-to-buy__item--front"),r=document.querySelectorAll(".book-top-how-to-buy__item--back"),c=window.innerWidth;a.forEach((t=>{t.addEventListener("click",(()=>{c>767.98?(t.parentElement.style.transformOrigin="left",t.parentElement.style.transform="rotateY(-180deg)",t.parentElement.classList.add("open")):(t.parentElement.style.transformOrigin="top",t.parentElement.style.transform="rotateX(180deg)",t.parentElement.classList.add("open"))}))})),r.forEach((t=>{t.addEventListener("click",(()=>{c>767.98?(t.parentElement.style.transformOrigin="left",t.parentElement.style.transform="rotateY(0)",t.parentElement.classList.remove("open")):(t.parentElement.style.transformOrigin="top",t.parentElement.style.transform="rotateX(0)",t.parentElement.classList.remove("open"))}))}));const l=document.querySelectorAll(".top-how-to-buy__button"),d=document.querySelectorAll(".top-how-to-buy__book");l.forEach(((t,e)=>{t.addEventListener("click",(()=>{d.forEach((t=>{t.classList.remove("active"),t===d[e]&&t.classList.add("active")})),l.forEach((t=>{t.classList.remove("active")})),t.classList.add("active")}))}));const m=document.querySelectorAll(".bottom-how-to-buy__button"),u=document.querySelectorAll(".bottom-how-to-buy__item");m.forEach(((t,e)=>{t.addEventListener("click",(()=>{u.forEach((t=>{t.classList.remove("active"),t===u[e]&&t.classList.add("active")})),m.forEach((t=>{t.classList.remove("active")})),t.classList.add("active")}))})),window.FLS=!1,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)})),document.documentElement.classList.contains("loading")||window.addEventListener("load",(function(){setTimeout((function(){document.documentElement.classList.add("loaded")}),0)})),document.querySelector(".icon-menu")&&document.addEventListener("click",(function(t){e&&t.target.closest(".icon-menu")&&(((t=500)=>{document.documentElement.classList.contains("lock")?n(t):o(t)})(),document.documentElement.classList.toggle("menu-open"))}))})();